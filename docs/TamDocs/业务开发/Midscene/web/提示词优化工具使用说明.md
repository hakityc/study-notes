# Midscene 提示词优化工具使用说明

## 功能概述

这是一个专门为 Midscene.js 设计的智能提示词优化工具，能够帮助你编写更精确、更有效的提示词。

## 主要功能

### 1. 实时质量分析

- **精确性评分**：检测提示词的明确程度
- **完整性评分**：评估是否包含必要的上下文信息
- **清晰度评分**：判断表达是否清晰无歧义
- **综合评分**：0-100 分的总体质量评估

### 2. 智能优化建议

系统会实时分析你的提示词，并根据不同的动作类型提供针对性建议：

#### aiTap（点击）

- 添加元素位置信息
- 补充视觉特征（颜色、大小、图标）
- 明确元素文字内容

#### aiInput（输入）

- 使用引号明确输入内容
- 添加输入框定位信息
- 说明输入框的 label 或 placeholder

#### aiAssert（断言）

- 定义明确的 True/False 判断标准
- 列举边界情况
- 说明可能的误判情况

#### aiHover（悬停）

- 明确悬停目标元素
- 说明悬停的预期效果

#### aiScroll（滚动）

- 指定滚动容器
- 说明滚动目标或距离

#### aiWaitFor（等待）

- 定义明确的等待条件
- 设置合理的超时时间

#### aiKeyboardPress（按键）

- 说明按键场景
- 明确按键目的

### 3. 优化前后对比

- 左右对比显示原始和优化后的提示词
- 高亮显示关键改进
- 显示字符数变化

### 4. 优化示例参考

针对每个动作类型提供实际优化案例：

- 展示优化前后的对比
- 说明具体改进要点
- 一键应用示例

### 5. 图片辅助优化

- 支持上传页面截图
- AI 可基于图片理解场景
- 多图上传和预览

## 使用流程

### 基础使用

1. **选择目标动作类型**
   - 在下拉菜单中选择你要使用的 Midscene 动作
   - 选择"全部动作"可进行通用优化

2. **输入原始提示词**
   - 在左侧文本框输入你的提示词
   - 系统会实时显示质量评分

3. **查看优化建议**
   - 中间栏会显示实时的优化建议
   - 根据优先级（高/中/低）查看改进点

4. **开始优化**
   - 点击"开始优化"按钮
   - 查看右侧的优化结果

5. **应用结果**
   - 复制优化后的提示词使用
   - 或继续优化以获得更好效果

### 高级使用

#### 自定义优化方向

在"自定义优化方向"输入框中，可以指定特殊的优化需求，例如：

- "使提示词更简洁"
- "增加更多定位信息"
- "添加容错处理"

#### 上传截图辅助

1. 点击"选择图片"上传页面截图
2. 可以上传多张图片展示不同状态
3. AI 会根据图片内容提供更精准的优化

#### 使用示例快速学习

1. 查看中间栏的"优化示例参考"
2. 点击"应用此示例"快速填充
3. 基于示例进行修改和调整

## 优化技巧

### 1. 位置描述

❌ 不好：`点击按钮`
✅ 优化：`点击页面右上角的蓝色"登录"按钮`

### 2. 视觉特征

❌ 不好：`点击图标`
✅ 优化：`点击导航栏中带有放大镜图标的搜索按钮`

### 3. 断言标准

❌ 不好：`检查是否登录成功`
✅ 优化：

```
检查页面右上角是否显示用户信息。
判断标准：
- True：右上角出现用户头像图标和用户名文字
- False：右上角仍显示"登录"按钮，或显示错误提示
```

### 4. 输入内容

❌ 不好：`输入用户名`
✅ 优化：`在登录表单中标签为"用户名"的输入框中输入"admin@example.com"`

## 质量评分说明

### 分数范围

- **80-100 分**：优秀，可以直接使用
- **60-79 分**：良好，建议小幅优化
- **40-59 分**：一般，需要补充更多信息
- **0-39 分**：需改进，存在明显问题

### 评分维度

- **精确性**：描述的明确程度
- **完整性**：是否包含足够的上下文
- **清晰度**：表达是否清晰无歧义

## 常见问题

### Q: 为什么我的评分很低？

A: 检查是否存在以下问题：

- 使用了模糊指代词（这个、那个）
- 缺少位置信息
- 断言没有明确的判断标准
- 提示词过于简短

### Q: 如何针对特定动作优化？

A:

1. 选择对应的动作类型
2. 查看该动作类型的优化示例
3. 根据示例的改进要点调整你的提示词

### Q: 优化后的提示词太长怎么办？

A:

- 长度不是问题，重要的是清晰和准确
- Midscene AI 可以理解较长的描述
- 如需简化，可在"自定义优化方向"中说明"使提示词更简洁"

### Q: 可以批量优化吗？

A: 当前版本支持单条优化，批量优化功能计划在未来版本添加。

## 最佳实践

1. **先选择动作类型**：让系统提供针对性建议
2. **上传相关截图**：帮助 AI 更好理解场景
3. **查看示例学习**：参考优秀案例的写法
4. **迭代优化**：使用"继续优化"功能持续改进
5. **记录好用的模式**：总结自己的提示词模板

## 技术说明

### 优化规则引擎

- 基于 Midscene.js 文档的最佳实践
- 针对不同动作类型的专门规则
- 实时检测常见错误模式

### 未来计划

- [ ] 接入真实的 AI 优化 API
- [ ] 添加历史记录功能
- [ ] 支持批量优化
- [ ] 导出优化报告
- [ ] 自定义规则配置

## 反馈与支持

如果你在使用过程中遇到问题或有改进建议，欢迎反馈！
